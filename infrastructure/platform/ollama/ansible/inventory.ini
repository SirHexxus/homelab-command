# ansible/inventory.ini - Ansible Host Inventory
#
# This file defines which hosts Ansible will manage and how to connect to them.
# You'll need to update the IP address below after running Terraform.
#
# After Terraform creates the container, it will output the container's IP address.
# Replace <CONTAINER_IP> with that IP address.

# Define the Ollama container group
[ollama_containers]
ollama-01 ansible_host=10.0.50.10 ansible_user=root ansible_port=22

# SSH configuration for all hosts
[ollama_containers:vars]
# SSH settings
ansible_ssh_private_key_file = ~/.ssh/id_rsa
ansible_ssh_common_args = '-o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null'

# Python interpreter (Ubuntu 22.04 default)
ansible_python_interpreter = /usr/bin/python3

# Connection timeout (in case container is slow to start)
ansible_connection_timeout = 30

# Become settings (only needed for Ollama installation which may require sudo)
ansible_become = true
ansible_become_user = root
ansible_become_method = sudo

# Customize these for your environment:
# docker_uid and docker_gid are used if you enable Docker in the container
docker_uid = 1000
docker_gid = 1000

# Ollama configuration
ollama_models=["mistral:7b", "nomic-embed-text"]

# Ollama service port (standard is 11434)
ollama_port = 11434

# ==============================================================
# IMPORTANT: Update <CONTAINER_IP> with the actual IP address
# ==============================================================
#
# After running 'terraform apply', you'll see output like:
#
#   deployment_instructions = <<-EOT
#     Container created successfully!
#     ...
#     2. Discover the container's IP address:
#        - If you used static IP: 192.168.1.100
#        - If you used DHCP: Check Proxmox UI...
#
# Copy that IP address (e.g., 192.168.1.100) and replace <CONTAINER_IP> above.
#
# You can also find the IP by running on your Proxmox host:
#   lxc-ls -f | grep ollama
#
# ==============================================================
